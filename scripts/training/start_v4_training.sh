#!/bin/bash

# ============================================================
# ğŸš€ v4 è¨“ç·´å•Ÿå‹•è…³æœ¬
# ============================================================
# ç‰ˆæœ¬: v4 (æ–¹æ¡ˆ A - å¹³è¡¡æ­£è² çå‹µ)
# æ—¥æœŸ: 2025-10-30
# ç›®æ¨™: Progress å›æ­£ + æ‡²ç½°é™ä½
# ============================================================

echo ""
echo "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—"
echo "â•‘                                                            â•‘"
echo "â•‘          ğŸ¤– Nova Carter Navigation v4 è¨“ç·´                 â•‘"
echo "â•‘                                                            â•‘"
echo "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""

# è¨­å®š WandB API Key
export WANDB_API_KEY="015e82155dc7cecb79368e0415eaf09362c260ef"
echo "âœ… WandB API Key å·²è¨­å®š"
echo ""

# é¡¯ç¤ºé…ç½®
echo "ğŸ“Š è¨“ç·´é…ç½®ï¼š"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "  ä»»å‹™åç¨±      â”‚ Isaac-Navigation-LocalPlanner-Min-v0"
echo "  RL ç®—æ³•       â”‚ PPO (Proximal Policy Optimization)"
echo "  æ¡†æ¶          â”‚ RSL-RL"
echo "  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€"
echo "  ä¸¦è¡Œç’°å¢ƒæ•¸    â”‚ 24"
echo "  è¨“ç·´è¿­ä»£æ•¸    â”‚ 10000"
echo "  æ¯æ­¥æ™‚é•·      â”‚ 0.04s (ç‰©ç† dt: 0.01s)"
echo "  Episode é•·åº¦  â”‚ 60s (1500 æ­¥)"
echo "  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€"
echo "  å­¸ç¿’ç‡        â”‚ 3e-4"
echo "  ç†µä¿‚æ•¸        â”‚ 0.001"
echo "  Clip ç¯„åœ     â”‚ 0.1"
echo "  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€"
echo "  è¨˜éŒ„å·¥å…·      â”‚ WandB"
echo "  å°ˆæ¡ˆåç¨±      â”‚ nova-carter-navigation"
echo "  è¨­å‚™          â”‚ cuda:0"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""

echo "ğŸ¯ v4 æ ¸å¿ƒèª¿æ•´ï¼ˆvs v3ï¼‰ï¼š"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "  æ‡²ç½°é …å¤§å¹…é™ä½ï¼ˆé¿å…å£“åˆ¶æ¢ç´¢ï¼‰ï¼š"
echo "    â€¢ standstill_penalty: 4.0 â†’ 1.0   (â†“ 75%)"
echo "    â€¢ anti_idle:          2.0 â†’ 0.5   (â†“ 75%)"
echo "    â€¢ spin_penalty:       0.5 â†’ 0.1   (â†“ 80%)"
echo "    â€¢ time_penalty:       0.01 â†’ 0.005 (â†“ 50%)"
echo ""
echo "  æ­£å‘çå‹µä¿æŒå¼·åŠ›ï¼š"
echo "    â€¢ progress_to_goal:   60.0 (ä¿æŒ)"
echo "    â€¢ near_goal_shaping:  20.0 (ä¿æŒ, radius 3.0m)"
echo "    â€¢ heading_alignment:  1.0  (ä¿æŒ, æ¢ä»¶å¼)"
echo "    â€¢ reached_goal:       200.0 (ä¿æŒ)"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""

echo "â±ï¸  é ä¼°æ™‚é–“ï¼š"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "  ç¸½è¨“ç·´æ™‚é–“    â”‚ ç´„ 3.5 å°æ™‚"
echo "  1000 iter     â”‚ ç´„ 20 åˆ†é˜"
echo "  5000 iter     â”‚ ç´„ 1.75 å°æ™‚"
echo "  10000 iter    â”‚ ç´„ 3.5 å°æ™‚"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""

echo "ğŸ¯ v4 æˆåŠŸæ¨™æº–ï¼ˆ10000 iterï¼‰ï¼š"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "  â­â­â­ Progress > 0.05        (v3: -0.0104)"
echo "  â­â­â­ Standstill > -0.3      (v3: -1.16)"
echo "  â­â­â­ Position Error < 3.0m (v3: 3.84m)"
echo "  â­â­  Success Rate > 0%      (v3: 0%)"
echo "  â­â­  Near Goal > 0.1        (v3: 0)"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""

echo "ğŸ“ˆ ç›£æ§æ–¹å¼ï¼š"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "  1. WandB å³æ™‚ç›£æ§ï¼ˆæ¨è–¦ï¼‰"
echo "     â†’ https://wandb.ai/"
echo "     â†’ å°ˆæ¡ˆï¼šnova-carter-navigation"
echo ""
echo "  2. çµ‚ç«¯æ©Ÿå³æ™‚æ—¥èªŒ"
echo "     â†’ å¦é–‹çµ‚ç«¯åŸ·è¡Œï¼š"
echo "     â†’ tail -f /home/aa/IsaacLab/training_v4.log"
echo ""
echo "  3. é—œéµæª¢æŸ¥é»"
echo "     â†’ T+30min (1000 iter):  Progress æ˜¯å¦å›æ­£ï¼Ÿ"
echo "     â†’ T+1.5h  (3000 iter):  Position Error æ”¹å–„ï¼Ÿ"
echo "     â†’ T+2.5h  (5000 iter):  Success Rate å‡ºç¾ï¼Ÿ"
echo "     â†’ T+3.5h  (10000 iter): å®Œæ•´è©•ä¼°"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""

echo "ğŸš€ æ­£åœ¨å•Ÿå‹•è¨“ç·´..."
echo ""
echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""

# å•Ÿå‹•è¨“ç·´
cd /home/aa/IsaacLab
./isaaclab.sh -p scripts/reinforcement_learning/rsl_rl/train.py \
    --task Isaac-Navigation-LocalPlanner-Min-v0 \
    --num_envs 24 \
    --max_iterations 10000 \
    --headless

